@using WebUI.Areas.User.Helpers
@model ProfileAboutViewModel
@{
    var user = Model.ProfileUser;
}


<div class="tab-pane fade show active" id="v-pills-work-tab" role="tabpanel"
     aria-labelledby="v-pills-work-tab">
    <div class="top-box d-flex justify-content-between align-items-center">
        <h4>Work and Education</h4>
        @if (Model.IsOwner)
        {
            <a href="profile-edit.html"
               class="p-2 d-flex flex-column justify-content-center align-item-center btn btn-primary">
                <i class="ph ph-pencil-simple"></i>
            </a>
        }
    </div>
    <hr>

    @if (ProfileVisibilityHelper.CanViewAboutInfo(Model, ProfileField.WorkExperience))
    {
        <ul class="suggestions-lists m-0 p-0">
            <li class="d-flex mb-4 align-items-center justify-content-between">
                <div>
                    <h5>Work</h5>
                </div>
                @if (Model.IsOwner)
                {
                    <a class="p-2 d-flex flex-column justify-content-center align-item-center btn btn-primary">
                        <i class="ph ph-plus"></i>
                    </a>
                }
            </li>

            @if (user.WorkExperiences != null && user.WorkExperiences.Any())
            {
                @foreach (var edu in user.WorkExperiences)
                {
                    <li class="d-flex mb-4 align-items-center justify-content-between">
                        <div class="w-100">
                            <div class="d-flex justify-content-between align-items-center">

                                <div class="d-flex align-items-center gap-1">
                                    <i class="fa-solid fa-circle-check text-success"></i>
                                    <div class="ms-3">
                                        <h6>@edu.CompanyName</h6>
                                        <p class="mb-0">@edu.Position</p>
                                        <p class="mb-0">
                                            @edu.StartDate.ToString("MMMM yyyy") -
                                            @(edu.EndDate != null ? edu.EndDate?.ToString("MMMM yyyy") : "Present")
                                        </p>
                                    </div>
                                </div>
                                @if (Model.IsOwner)
                                {
                                    <div class="edit-relation">
                                        <a href="#" class="d-flex align-items-center gap-1">
                                            <i class="ph ph-pencil-simple"></i>
                                            <span class="edit-btn">Edit</span>
                                        </a>
                                    </div>
                                }
                            </div>
                        </div>
                    </li>
                }
            }
            else
            {
                <p>No information entered.</p>
            }
        </ul>
    }
    else
    {
        <h5>Work</h5>
        <p>No information entered.</p>
    }


    <hr />

    @if (ProfileVisibilityHelper.CanViewAboutInfo(Model, ProfileField.Education))
    {
        <ul class="suggestions-lists m-0 p-0">
            <li class="d-flex mb-4 align-items-center justify-content-between">
                <div>
                    <h5>Education</h5>
                </div>
                @if (Model.IsOwner)
                {
                    <a class="p-2 d-flex flex-column justify-content-center align-item-center btn btn-primary">
                        <i class="ph ph-plus"></i>
                    </a>
                }
            </li>

            @if (user.Educations != null && user.Educations.Any())
            {
                @foreach (var edu in user.Educations)
                {
                    <li class="d-flex mb-4 align-items-center justify-content-between">
                        <div class="w-100">
                            <div class="d-flex justify-content-between align-items-center">

                                <div class="d-flex align-items-center gap-1">
                                    <i class="fa-solid fa-circle-check text-success"></i>
                                    <div class="ms-3">
                                        <h6>@edu.SchoolName</h6>
                                        <p class="mb-0">@edu.Field - @edu.Degree</p>
                                        <p class="mb-0">
                                            @edu.StartDate.ToString("MMMM yyyy") -
                                            @(edu.EndDate != null ? edu.EndDate?.ToString("MMMM yyyy") : "Present")
                                        </p>
                                    </div>
                                </div>
                                @if (Model.IsOwner)
                                {
                                    <div class="edit-relation">
                                        <a href="#" class="d-flex align-items-center gap-1">
                                            <i class="ph ph-pencil-simple"></i>
                                            <span class="edit-btn">Edit</span>
                                        </a>
                                    </div>
                                }
                            </div>
                        </div>
                    </li>
                }
            }
            else
            {
                <p>No information entered.</p>
            }
        </ul>
    }
    else
    {
        <h5>Education</h5>
        <p>No information entered.</p>
    }


</div>
